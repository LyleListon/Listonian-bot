{% extends "base.html" %}

{% block content %}
<div class="analytics-container">
    <div class="time-range-selector">
        <select id="analytics-time-range">
            <option value="24h">Last 24 Hours</option>
            <option value="7d">Last 7 Days</option>
            <option value="30d">Last 30 Days</option>
            <option value="custom">Custom Range</option>
        </select>
        <div id="custom-range-inputs" style="display: none;">
            <input type="date" id="analytics-date-from">
            <input type="date" id="analytics-date-to">
        </div>
    </div>

    <div class="metrics-container">
        <div class="metric-card">
            <h3>Total Volume</h3>
            <div class="metric-value" id="total-volume">$0.00</div>
        </div>
        <div class="metric-card">
            <h3>Average Daily Volume</h3>
            <div class="metric-value" id="avg-daily-volume">$0.00</div>
        </div>
        <div class="metric-card">
            <h3>Total Gas Spent</h3>
            <div class="metric-value" id="total-gas">$0.00</div>
        </div>
        <div class="metric-card">
            <h3>ROI</h3>
            <div class="metric-value" id="roi">0%</div>
        </div>
    </div>

    <div class="charts-container">
        <div class="chart-card">
            <h3>Performance Over Time</h3>
            <div id="performance-chart"></div>
        </div>
        <div class="chart-card">
            <h3>Gas Cost Analysis</h3>
            <div id="gas-analysis-chart"></div>
        </div>
    </div>

    <div class="analytics-grid">
        <div class="analytics-card">
            <h3>Top Performing Pairs</h3>
            <div id="top-pairs-chart"></div>
            <table class="analytics-table">
                <thead>
                    <tr>
                        <th>Pair</th>
                        <th>Volume</th>
                        <th>Profit</th>
                        <th>Success Rate</th>
                    </tr>
                </thead>
                <tbody id="top-pairs-list"></tbody>
            </table>
        </div>

        <div class="analytics-card">
            <h3>DEX Performance</h3>
            <div id="dex-performance-chart"></div>
            <table class="analytics-table">
                <thead>
                    <tr>
                        <th>DEX</th>
                        <th>Volume</th>
                        <th>Profit</th>
                        <th>Success Rate</th>
                    </tr>
                </thead>
                <tbody id="dex-performance-list"></tbody>
            </table>
        </div>
    </div>

    <div class="analytics-grid">
        <div class="analytics-card">
            <h3>Time Analysis</h3>
            <div id="time-analysis-chart"></div>
            <div class="analysis-insights">
                <h4>Peak Performance Times</h4>
                <ul id="peak-times-list"></ul>
            </div>
        </div>

        <div class="analytics-card">
            <h3>Risk Analysis</h3>
            <div id="risk-analysis-chart"></div>
            <div class="analysis-insights">
                <h4>Risk Metrics</h4>
                <ul id="risk-metrics-list"></ul>
            </div>
        </div>
    </div>

    <div class="analytics-card">
        <h3>Performance Insights</h3>
        <div class="insights-container" id="performance-insights">
            <!-- Insights will be dynamically inserted here -->
        </div>
    </div>
</div>

{% block extra_js %}
<script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
{% endblock %}
{% endblock %}
