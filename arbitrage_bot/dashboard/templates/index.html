{% extends "base.html" %}

{% block content %}
<section id="overview">
    <h2>System Overview</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <h3>Total Profit</h3>
            <p id="total-profit">Loading...</p>
        </div>
        <div class="stat-card">
            <h3>Success Rate</h3>
            <p id="success-rate">Loading...</p>
        </div>
        <div class="stat-card">
            <h3>Active Paths</h3>
            <p id="active-paths">Loading...</p>
        </div>
        <div class="stat-card">
            <h3>Gas Price</h3>
            <p id="gas-price">Loading...</p>
        </div>
    </div>
</section>

<section id="recent-activity">
    <h2>Recent Activity</h2>
    <div id="activity-feed">
        <p>Loading activity...</p>
    </div>
</section>

<section id="system-status">
    <h2>System Status</h2>
    <div class="status-grid">
        <div class="status-card">
            <h3>Web3 Connection</h3>
            <p id="web3-status">Loading...</p>
        </div>
        <div class="status-card">
            <h3>Memory Bank</h3>
            <p id="memory-status">Loading...</p>
        </div>
        <div class="status-card">
            <h3>Storage Hub</h3>
            <p id="storage-status">Loading...</p>
        </div>
        <div class="status-card">
            <h3>Flashbots RPC</h3>
            <p id="flashbots-status">Loading...</p>
        </div>
    </div>
</section>

<section id="opportunities">
    <h2>Current Opportunities</h2>
    <div id="opportunities-list">
        <p>Loading opportunities...</p>
    </div>
</section>

<section id="gas-stats">
    <h2>Gas Statistics</h2>
    <div class="gas-stats-grid">
        <div class="gas-stat-card">
            <h3>Current Gas</h3>
            <p id="current-gas">Loading...</p>
        </div>
        <div class="gas-stat-card">
            <h3>Base Fee</h3>
            <p id="base-fee">Loading...</p>
        </div>
        <div class="gas-stat-card">
            <h3>Priority Fee</h3>
            <p id="priority-fee">Loading...</p>
        </div>
        <div class="gas-stat-card">
            <h3>Monthly Usage</h3>
            <p id="monthly-gas">Loading...</p>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Initialize WebSocket connection
    const ws = new WebSocketManager();

    // Initialize dashboard
    const dashboard = new DashboardManager(ws);
});
</script>
{% endblock %}
